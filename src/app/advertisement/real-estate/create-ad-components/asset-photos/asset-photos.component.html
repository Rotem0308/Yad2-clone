<div class="assets-videos-photos-container">
  <app-wizard-summary
    [number]="5"
    [text]="'תמונות וסרטונים'"
    [state]="isComplete"
    (onEditClick)="isComplete = !isComplete"
  ></app-wizard-summary>

  <form [formGroup]="assetphotosVideosForm" class="uploads-form">
    <div class="header">
      ניתן להעלות עד 10 תמונות ע״י גרירה או לחיצה על כפתור הפלוס. אחרי הבחירה,
      בחרו את מרכז התמונה כדי שתופיע באתר בצורה המוקטנת הטובה ביותר.
      <p>אין לכם מה לדאוג, בגלריה התמונה תופיע בגודלה המקורי</p>
    </div>

    <hr />
    <div class="flex">
      <div class="box">
        <p class="box-text">סרטון הנכס</p>
        <div class="dropzone">
          <div
            class="upload-image"
            *ngIf="assetphotosVideosForm.get('videos')?.value.length === 0"
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">
              <path
                fill="#808080"
                d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"
              />
            </svg>
            <div id="plus">+</div>
            <p class="drag-text">גרור ושחרר או תלחץ ותעלה את הקובץ שלך</p>
          </div>
          <input
            type="file"
            formControlName="videos"
            multiple
            accept="video/mp4,video/mov"
          />
        </div>
      </div>

      <div class="box">
        <p class="box-text">תמונות הנכס</p>
        <div class="dropzone">
          <div
            class="upload-image"
            *ngIf="
              assetphotosVideosForm.get('photos')?.value.length === 0;
              else imageBox
            "
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">
              <path
                fill="#808080"
                d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"
              />
            </svg>
            <div id="plus">+</div>
            <p class="drag-text">גרור ושחרר או תלחץ ותעלה את הקובץ שלך</p>
          </div>
          <!--
            <ng-template> is considered “virtual”.
            Being “virtual” means the <ng-template> contents
            won’t actually exist in the compiled DOM,until it’s 
            needed (you will never see it until Angular renders it).
          -->
          <ng-template #imageBox>
            <div class="images-box">
              <p
                class="img-object"
                *ngFor="
                  let imageSrc of assetphotosVideosForm.get('photos')
                    ?.value as photos
                "
              >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">
                  <path
                    fill="#74C0FC"
                    d="M45.6 32C20.4 32 0 52.4 0 77.6V434.4C0 459.6 20.4 480 45.6 480c5.1 0 10-.8 14.7-2.4C74.6
                     472.8 177.6 440 320 440s245.4 32.8 259.6 37.6c4.7 1.6 9.7 2.4 14.7 2.4c25.2 0 45.6-20.4 
                     45.6-45.6V77.6C640 52.4 619.6 32 594.4 32c-5 0-10 .8-14.7 2.4C565.4 39.2 462.4 72 320
                     72S74.6 39.2 60.4 34.4C55.6 32.8 50.7 32 45.6 32zM96 160a32 32 0 1 1 64 0 32 32 0 1 1 
                     -64 0zm272 0c7.9 0 15.4 3.9 19.8 10.5L512.3 353c5.4 8 5.6 18.4 .4 26.5s-14.7 12.3-24.2
                     10.7C442.7 382.4 385.2 376 320 376c-65.6 0-123.4 6.5-169.3 14.4c-9.8 1.7-19.7-2.9-24.7-11.5s-4.3-19.4
                     1.9-27.2L197.3 265c4.6-5.7 11.4-9 18.7-9s14.2 3.3 18.7 9l26.4 33.1 87-127.6c4.5-6.6 11.9-10.5 19.8-10.5z"
                  />
                </svg>
                {{ imageSrc.name }}
              </p>
              <button (click)="ClearPhotos()">Clear</button>
            </div>
          </ng-template>
          <input
            type="file"
            formControlName="photos"
            (change)="onFileUpload($event)"
            multiple
            accept="image/jpg,image/png"
          />
        </div>
      </div>
    </div>

    <div class="btn-container">
      <button>חזרה</button>
      <button class="next-stage-btn">המשך לשלב הבא</button>
    </div>
  </form>
</div>
